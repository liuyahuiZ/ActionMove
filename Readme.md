###å¼•è¨€

ä¸ºå•¥è¦æ­å»ºè‡ªå·±çš„åšå®¢ï¼Œç§€æŠ€æœ¯ï¼Ÿæ¨å¹¿è‡ªå·±ï¼Ÿè¿˜æ˜¯æŠ€æœ¯æ²‰æ·€ï¼Ÿå¯¹ï¼Œéƒ½æœ‰ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆğŸ˜„
ä½œä¸ºä¸€ä¸ªitä¸šå†…äººå£«ï¼Œå½“åˆ«äººé—®èµ·æ¥ï¼Œä½ å¹³æ—¶çš„å·¥ä½œæ˜¯å¹²å—çš„ï¼Œä¸ºäº†é¿å…ä¾‹å¦‚â€œä¿®ç”µè„‘â€çš„è¯æ±‡å†æ¬¡å‡ºç°ï¼Œä¸ªäººåšå®¢ä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åˆç†è§£é‡Šï¼Œå’³å’³ï¼Œä¸å¤šè¯´äº†ï¼Œç›´æ¥ä¸Šå¹²è´§ï½

åšå®¢åœ°å€ï¼š www.wetalks.cn  http://121.89.184.22/
å‰ç«¯ä»£ç æ¶æ„:  react+neo-uiï¼ˆè‡ªå·±é€ çš„uiæ¡†æ¶è½®å­ï¼‰ä»£ç åœ°å€ https://github.com/liuyahuiZ/MyMove
åç«¯ä»£ç æ¶æ„:  koa2+node+mongo   react+neo-uiï¼ˆç®¡ç†å¹³å°ï¼‰ gitåœ°å€ https://github.com/liuyahuiZ/server-koa

nei-uiå¯ä»¥å‚è€ƒ http://121.89.184.22/neo-ui-doc/#/info/doc

###åˆå§‹æ„æƒ³é˜¶æ®µ
é¦–å…ˆå¤´è„‘é£æš´ä¸‹ï¼Œåšå®¢é‡Œè¦å±•ç¤ºå“ªäº›å†…å®¹ï¼Œä¾‹å¦‚æŠ€æœ¯æ–‡ç« ï¼Œç”Ÿæ´»è®°å½•ï¼Œæ¯”è¾ƒé…·ç‚«çš„å›¾ç‰‡ç‰¹æ•ˆï¼Œç•™è¨€æ¿ï¼ŒéŸ³ä¹ï¼Œå•é¡µåº”ç”¨ï¼Œå“åº”å¼ï¼Œå‰åç«¯åˆ†ç¦»ï¼Œé¡µé¢èµ„æºæŒ‰éœ€åŠ è½½ç­‰ç­‰ã€‚ã€‚ã€‚æˆ‘ä»¬å¯ä»¥åˆæ­¥çš„å°†éœ€æ±‚åˆ†è§£ä¸ºä¸šåŠ¡éœ€æ±‚å’ŒæŠ€æœ¯éœ€æ±‚ã€‚
å…¶ä¸­æœ€åŸºç¡€çš„éœ€æ±‚å°±æ˜¯æ–‡ç« çš„å±•ç¤ºä¸ç®¡ç†ï¼Œå›´ç»•ç€æ–‡ç« ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ‹“å±•ï¼Œä¾‹å¦‚æ–‡ç« è¯„è®ºï¼Œæ–‡ç« åˆ†ç±»ï¼Œæ–‡ç« æŸ¥çœ‹é‡è¿˜æœ‰ä¸€äº›æ–‡ç« æ•°æ®çš„å¯è§†åŒ–ç­‰ã€‚ç„¶åæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªæœ‰åŠ©äºæˆ‘ä»¬åšå®¢æ”¹å–„çš„çª—å£â€”â€”ç•™è¨€æ¿ï¼Œæµè§ˆè€…å¯ä»¥åœ¨è¿™é‡Œåé¦ˆä¸€äº›é—®é¢˜ã€‚
æŠ€æœ¯æ–¹é¢æˆ‘ç”¨çš„éƒ½æ˜¯æˆ‘æœ€æ“…é•¿çš„æŠ€æœ¯æ¡†æ¶ã€‚å¦‚react16ï¼Œwebpack4ï¼Œnginxï¼Œmongodbï¼Œnodeï¼Œå½“ç„¶è¿˜æœ‰è‡ªå·±é€ è¿‡çš„è½®å­ï¼Œå¦‚neo-uiæ¡†æ¶ï¼Œè¿™æ˜¯ä¸€æ¬¾å“åº”å¼çš„UIç»„ä»¶æ¡†æ¶ã€‚æˆ‘ä»¬éœ€è¦æ›´å¿«çš„åŠ è½½é¡µé¢ï¼Œè¿˜æœ‰ç¼“å­˜å·²ç»åŠ è½½è¿›æ¥çš„èµ„æºä¸ä¼šé‡å¤åŠ è½½ï¼Œæ‰€ä»¥é¡µé¢ä¹‹é—´åˆ‡æ¢é‡‡ç”¨äº†æ ¹æ®é¡µé¢è·¯ç”±è¿›è¡Œæ‰“åŒ…æ‹†åˆ†çš„æŒ‰éœ€åŠ è½½æœºåˆ¶å’ŒkeepAliveæä¾›çš„é¡µé¢ç¼“å­˜æœºåˆ¶ï¼Œä¼šåœ¨ä¸‹è¾¹è¿›è¡Œä»£ç å±•ç¤ºã€‚mongodbä½œä¸ºè½»é‡å‹æ•°æ®åº“ï¼Œæ˜¯ä¸ªäººåšå®¢æ–‡ç« ç±»çš„é¦–é€‰ã€‚

###å®æ–½é˜¶æ®µ
æœ‰äº†åˆæ­¥çš„æ„æƒ³ï¼Œæ¥ä¸‹æ¥å°±è¿›è¡Œå®æ–½ã€‚æ˜¯æ—¶å€™è¡¨æ¼”çœŸæ­£çš„æŠ€æœ¯äº† ï¼šï¼‰
ä¸»ä½“æ¡†æ¶çš„æ­å»ºï¼Œåˆ©ç”¨webpack4^è„šæ‰‹æ¶å·¥å…·æ­å»ºä¸€ä¸ªç©ºçš„react16^é¡¹ç›®ï¼Œåˆ›å»ºå…¥å£æ–‡ä»¶ä»¥åŠè·¯ç”±æ–‡ä»¶ï¼Œå¯ä»¥é‡‡ç”¨è¿™æ ·çš„å¼•å…¥è·¯ç”±æ–¹å¼ï¼Œwebpackåœ¨æ‰“åŒ…æ—¶ä¼šå°†ä»£ç æ‹†åˆ†æˆchunkæ–‡ä»¶ï¼ŒåŠ¨æ€åŠ è½½ã€‚

```js
const CreateArticleDoc = (location, cb) => {
  require.ensure([], require => {
      cb(null, require('./page/createArticle').default)
  },'CreateArticleDoc')
};

 <Router history={hashHistory}>
   <Route path={'/'} component={LayOut} >
     <IndexRedirect to="/Home"/>
     <Route path={'CreateArticle'} getComponent={CreateArticleDoc} />
  </Route>
</Router>

```

æ¥ä¸‹æ¥æ˜¯é¡µé¢çš„å…·ä½“å¼€å‘äº†ã€‚é¦–é¡µè¦å°½é‡å±•ç¤ºå‡ºæ ¸å¿ƒå†…å®¹ï¼Œè¿™ä¹Ÿæ˜¯ç»™è®¿å®¢ç•™ä¸‹ç¬¬ä¸€å°è±¡çš„é¡µé¢ã€‚
æˆ‘åœ¨é¦–é¡µçš„ä¸€å±é‡Œå±•ç¤ºçš„æ˜¯ä¸€ä¸ªå…¨èƒŒæ™¯çš„banneråŠ¨å›¾ã€‚é…ä¸Šä¸€ä¸²å¾ˆè£…Xçš„æ–‡å­—ï¼Œä¼šæ˜¾å¾—å¤§æ°”ä¸€äº›ã€‚

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904790457308.png'>


äºŒå±ç´§æ¥ç€å±•ç¤ºåšå®¢æ–‡ç« ï¼Œè¿™äº›éƒ½æ˜¯æŒ‰æŸ¥çœ‹é‡æ’åºçš„çƒ­é—¨æ–‡ç« 
<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904778455318.png'>

ä¸‰å±å±•ç¤ºçš„æ˜¯ä¸€äº›çƒ­é—¨çš„åˆ†ç±»ä¿¡æ¯

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/1590478054648.png'>

èœå•éƒ¨åˆ†

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904781899557.png'>

keepaliveä¼šå°†è·¯ç”±å¯¹åº”çš„é¡µé¢ç¼“å­˜åœ¨æµè§ˆå™¨domä¸­ï¼Œè¿™æ ·é¡µé¢åœ¨åˆ‡æ¢çš„æ—¶å€™ï¼Œä¸ä¼šå»é‡å¤åŠ è½½ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒã€‚

```js
import { Provider, KeepAlive } from 'react-keep-alive'

<Provider>
    <KeepAlive name={this.props.location.pathname|| 'home'}>
       <ErrorBounDary>{components}</ErrorBounDary>
    </KeepAlive>
</Provider>
```

é…åˆéŸ³ä¹ï¼Œå¯ä»¥è¾¹çœ‹åšå®¢ï¼Œè¾¹å¬éŸ³ä¹ï¼Œæ˜¯ä¸æ˜¯æ¡£æ¬¡åˆæå‡äº†ã€‚ã€‚ã€‚æ‰‹æ’¸äº†ä¸€ä¸ªæ’­æ”¾å™¨ã€‚éŸ³ä¹åˆ—è¡¨é‡‡ç”¨çš„æ˜¯ç½‘æ˜“å¼€æºçš„éŸ³ä¹æ¥å£ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ã€‚

```js
//éŸ³ä¹æ’­æ”¾å™¨çš„æ ¸å¿ƒæ–¹æ³•æ˜¯æ§åˆ¶audioç»„ä»¶çš„æ’­æ”¾ä¸æš‚åœï¼Œä¸å½“å‰æ’­æ”¾éŸ³ä¹çš„åœ°å€

addListenr(){
      let o=this;
      let myVid=document.getElementById("audioPlay");
      myVid.addEventListener("loadeddata", //æ­Œæ›²ä¸€ç»å®Œæ•´çš„åŠ è½½å®Œæ¯•( ä¹Ÿå¯ä»¥å†™æˆä¸Šé¢æåˆ°çš„é‚£äº›äº‹ä»¶ç±»å‹)
          function() {
            let allTime=o.timeChange(myVid.duration)
            // console.log(myVid.duration,allTime)
            o.setState({allTime:allTime});
            o.setState({allString:myVid.duration});
              setInterval(function() {
                  let nowTime=o.timeChange(myVid.currentTime);
                  // console.log(nowTime);
                  // console.log(myVid.currentTime,myVid.duration)
                  if(parseInt(myVid.duration)-parseInt(myVid.currentTime)<=2){
                    o.setNext();
                  }
                  o.setState({currentTime:nowTime});
                  o.setState({currentString:myVid.currentTime});
              }, 1000);
          }, false);
    }

    
    //æ’­æ”¾
    setPlay(){
      const {autoPlay} = this.state;
      let myVid=document.getElementById("audioPlay");
      if(autoPlay==''){
        this.setState({autoPlay: 'autoPlay'});
        myVid.play();//audio.play();// è¿™ä¸ªå°±æ˜¯æ’­æ”¾
      }else{
        this.setState({autoPlay: ''});
        myVid.pause();// è¿™ä¸ªå°±æ˜¯æš‚åœ
      }
    }
    //ä¸‹ä¸€é¦–
    setNext(){
      const {musicList, nowIndex} = this.state;
      let next = nowIndex+1
      if(next >= musicList.length){
        next=0
      }
      this.getMusicDetail(musicList[next],next)
    }
    //ä¸Šä¸€é¦–
    setPre(){
      const {musicList, nowIndex} = this.state;
      let pre = nowIndex-1
      if(pre<0){
        pre = musicList.length-1
      }
      this.getMusicDetail(musicList[pre],pre)
    }
    // ä¿®æ”¹è¿›åº¦
    changeCurrent(percent){
      const {allString}= this.state;
      console.log(allString);
      let myVid=document.getElementById("audioPlay");
      myVid.currentTime = parseFloat(allString*(percent/100).toFixed(2));
      console.log(parseFloat(allString)*(percent/100));
    }
    
<audio src={theMusic&&theMusic.fileUrl} autoPlay={autoPlay} loop="loop" id="audioPlay" >
            </audio>
            <MusicPlayer options={{
              autoPlay: autoPlay,
              theMusic: theMusic,
              theLyric: theLyric,
              currentTime: currentTime, 
              currentString: currentString, 
              allString: allString, 
              allTime: allTime,
              setPlay: ()=>{self.setPlay()},
              setNext: ()=>{self.setNext()},
              setPre: ()=>{self.setPre()},
              changeCurrent: (p)=>{self.changeCurrent(p)},
              listPop: ()=>{self.doPopContainer()}
            }} />



```

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904791511416.png'>

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904791748172.png'>

åšå®¢åˆ—è¡¨ï¼Œæ‰‹æ’¸ä¸€ä¸ªç®€å•çš„åˆ†é¡µï¼Œæœ¬æ¥è€ƒè™‘çš„æ˜¯ä¸‹æ‹‰åŠ è½½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ç®€ä¾¿ï¼Œè¿˜æ˜¯ç®€å•çš„åˆ†é¡µæ›´è½»å¿«ï¼Œï¼ˆ nei-uié‡Œæœ‰ä¸‹æ‹‰åŠ è½½å’Œä¸Šæ‹‰åˆ·æ–°çš„ç»„ä»¶  ï¼šï¼‰

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904784496846.png'>


###åç«¯apiéƒ¨åˆ†
é¡¹ç›®å¯ä»¥å‚è€ƒserver-koa https://github.com/liuyahuiZ/server-koa

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904785852372.png'>

åœ¨è®¾è®¡æ¥å£çš„æ—¶å€™ï¼Œä¹Ÿéƒ½æ˜¯éå¸¸åŸºç¡€çš„å¢åˆ æ”¹æŸ¥æ¥å£

```js
åšå®¢æ–‡ç« api
/article/getArticle  è·å–æ–‡ç« åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸è¿”å›æ–‡ç« contentå­—æ®µ
/article/typeArticleList æ ¹æ®ç±»å‹è·å–æ–‡ç« åˆ—è¡¨
/article/createArctile åˆ›å»ºæ–‡ç« 
/article/updateArctile ä¿®æ”¹æ–‡ç« 
/article/articleDetail  è·å–æ–‡ç« è¯¦æƒ…ï¼Œåœ¨è¯¦æƒ…ä¸­æœ‰content
/article/findCommit æ ¹æ®æ–‡ç« idè·å–è¯„è®ºåˆ—è¡¨
/article/makeCommit  åˆ›å»ºæ–‡ç« è¯„è®º

æ–‡ç« ç±»å‹api
/blockType/typeList ç±»å‹åˆ—è¡¨
/blockType/addType  æ–°å¢ç±»å‹
/blockType/updateType ä¿®æ”¹ç±»å‹
/blockType/removeType åˆ é™¤ç±»å‹

åŠ¨æ€å›¾ç‰‡api
/banner/bannerListForCode  æ ¹æ®codeè·å–banneråˆ—è¡¨
/banner/addBanner
/banner/updateBanner
/banner/removeBanner

ç•™è¨€api
/messages/messagesList ç•™è¨€åˆ—è¡¨
/messages/addMessages æ–°å¢ç•™è¨€
/banner/removeMessages åˆ é™¤ç•™è¨€

æ–‡ä»¶ç®¡ç†api
/files/fileUp æ–‡ä»¶ä¸Šä¼ 
/files/getTheImage æ ¹æ®pathè·å–æ–‡ä»¶
/files/fileList æ–‡ä»¶åˆ—è¡¨
/files/removeFile åˆ é™¤æ–‡ä»¶
```


ç®¡ç†å¹³å°ç”¨çš„æ˜¯åŸºäºé¡µé¢é…ç½®åŒ–ç”Ÿæˆå¼•æ“candys-toolç”Ÿæˆçš„ï¼Œåªè¦ç®€å•çš„é…ä¸€ä¸‹ï¼Œé¡µé¢å°±ç”Ÿæˆäº†ï¼Œå…·ä½“å¯å‚è€ƒlowcodeæ¢ç´¢é‚£ç¯‡æ–‡ç« ã€‚

<img src='http://121.89.184.22/nodeApi/files/getTheImage?path=/uploads/2020-5-26/15904785367969.png'>


###ä¸‹é¢é™„ä¸Šå¿ƒè·¯å†ç¨‹

day 1 
ä¸»ä½“æ¡†æ¶æ­å»º

day2
æ–‡ç« ç®¡ç†æ¥å£ï¼Œåˆ†ç±»ç®¡ç†æ¥å£ï¼Œ å¢åˆ æ”¹æŸ¥ï¼Œè·å–å›¾ç‰‡
æ ¹æ®åˆ†ç±»æŸ¥è¯¢æ–‡ç« 

day3
åˆ†é¡µï¼ŒéŸ³ä¹ï¼Œ keepAliveï¼Œbanneræ€§èƒ½ä¼˜åŒ–

day 4
å›¾è¡¨ï¼Œ ç•™è¨€ï¼Œ æ–‡ç« è¯„è®ºï¼Œä¸ªäººæ”¶è—ï¼ˆå¡ç‰‡å½¢å¼ï¼‰ï¼Œ banneråŠ¨æ€åŒ–ï¼Œ

day5
 banneråŠ¨æ€åŒ–ï¼Œ
é¦–é¡µåŠ è½½ä¼˜åŒ–
keepAliveé¡µé¢ä¼˜åŒ–
éŸ³ä¹é¡µé¢ä¼˜åŒ–
ç•™è¨€

day6 
æ–‡ç« è¯„è®ºåŠŸèƒ½ï¼Œ
è¯„è®ºåˆ—è¡¨å±•ç¤º
ç•™è¨€åˆ—è¡¨

day7 
é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²nginxï¼Œnodeï¼Œmongo
è§£å†³é˜¿é‡Œäº‘mongoå¯åŠ¨é—®é¢˜ --fork

day8 
banner è·Ÿè¿›codeè·å–
æŸ¥è¯¢æ¡†åŠ¨æ€æ•ˆæœ
é¦–é¡µåˆ—è¡¨æ ¹æ®æŸ¥çœ‹é‡æ’åº

